:root {
	--bs-body-bg: #f8f9fa;
	--bs-body-color: #212529;
	--bs-border-color: #dee2e6;
	--bs-tertiary-bg: #e9ecef;
	--primary-accent: #0d6efd;
	--slider-track-bg: #99b1bc;
	--settings-width: 320px;
	--secondary-panel-width: 350px;
	--settings-collapsed-width: 0px;
}

[data-bs-theme="dark"] {
	--bs-body-bg: #1a1a1a;
	--bs-body-color: #e9ecef;
	--bs-border-color: #444;
	--bs-tertiary-bg: #2a2a2a;
	--primary-accent: #4dabf7;
	--slider-track-bg: #555;
}

body {
	background-color: var(--bs-body-bg);
	color: var(--bs-body-color);
	overflow: hidden; /* Prevent body scrollbars */
}

#app-container {
	display: flex;
	height: 100vh;
}

#settings-panel {
	width: var(--settings-width);
	min-width: 250px;
	max-width: 500px;
	height: 100vh;
	background-color: var(--bs-tertiary-bg);
	border-right: 1px solid var(--bs-border-color);
	display: flex;
	flex-shrink: 0;
	position: relative;
	transition: width 0.3s ease-in-out, min-width 0.3s ease-in-out;
	overflow: hidden;
}

#settings-panel.collapsed {
	width: var(--settings-collapsed-width);
	min-width: var(--settings-collapsed-width);
	border-right: none;
}

#settings-panel.collapsed #settings-content {
	display: none;
}

#settings-content {
	flex-grow: 1;
	overflow-y: auto;
}

#resize-handle {
	width: 5px;
	cursor: col-resize;
	background-color: var(--bs-border-color);
	flex-shrink: 0;
}

#settings-panel.collapsed #resize-handle {
	display: none;
}

#main-wrapper {
	flex-grow: 1;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

main {
	flex-grow: 1;
	overflow-y: auto;
	padding: 1rem;
	display: flex;
	flex-direction: column;
}

.card {
	background-color: var(--bs-tertiary-bg);
	border-color: var(--bs-border-color);
}

.form-control, .form-select {
	background-color: var(--bs-body-bg);
	color: var(--bs-body-color);
	border-color: var(--bs-border-color);
}

.form-control:focus, .form-select:focus {
	background-color: var(--bs-body-bg);
	color: var(--bs-body-color);
	border-color: var(--primary-accent);
	box-shadow: 0 0 0 0.25rem rgba(var(--primary-accent), 0.25);
}

.btn-primary {
	background-color: var(--primary-accent);
	border-color: var(--primary-accent);
}

.form-range::-webkit-slider-runnable-track {
	background-color: var(--slider-track-bg);
	height: 4px;
	border-radius: 2px;
}

.form-range::-moz-range-track {
	background-color: var(--slider-track-bg);
	height: 4px;
	border-radius: 2px;
}

.form-range {
	--bs-form-range-track-bg: var(--slider-track-bg);
	--bs-form-range-thumb-bg: var(--primary-accent);
	--bs-form-range-thumb-border-radius: 50%;
	--bs-form-range-thumb-box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
	padding: 0.5rem 0;
}

#plot-area {
	display: flex;
	flex-grow: 1;
	min-height: 0;
}

#primary-plot-container {
	flex-grow: 1;
	height: 100%;
	overflow: auto;
}

#secondary-plot-wrapper {
	width: var(--secondary-panel-width);
	height: 100%;
	flex-shrink: 0;
	border-left: 1px solid var(--bs-border-color);
}

.plot-container {
	height: 100%;
	width: 100%;
}

#secondary-plot-content {
	display: flex;
	flex-grow: 1;
}

#path-slider-container {
	width: 40px;
	display: flex;
	justify-content: center;
	align-items: center;
}

#path-slider {
	-webkit-appearance: none;
	appearance: none;
	width: 150px;
	height: 5px;
	background: var(--slider-track-bg);
	outline: none;
	border-radius: 5px;
}
#path-slider::-webkit-slider-thumb {
	-webkit-appearance: none;
	appearance: none;
	width: 16px;
	height: 16px;
	background: var(--primary-accent);
	cursor: pointer;
	border-radius: 50%;
	border: 2px solid var(--bs-body-bg);
}
#path-slider::-moz-range-thumb {
	width: 16px;
	height: 16px;
	background: var(--primary-accent);
	cursor: pointer;
	border-radius: 50%;
	border: 2px solid var(--bs-body-bg);
}
[data-bs-theme="dark"] #input-row {
	background-color: #343a40;
	color: #f8f9fa;
}
[data-bs-theme="dark"] #input-row .form-control {
	background-color: #495057;
	color: #f8f9fa;
}
[data-bs-theme="dark"] #input-row .btn-primary {
	background-color: #007bff;
	border-color: #0056b3;
}